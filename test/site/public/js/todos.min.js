!function(t){"use strict";var e,i,n,o,s,l={".js":[],".json":[],".css":[],".html":[]};return o=function(t){var e=Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},s=function(t,e,i){var n,o;if("function"==typeof t[e+i])return e+i;for(n=0;o=l[i][n];++n)if("function"==typeof t[e+o])return e+o;return null},e=function(t,n,l,r,a){var c,d,h,u,p,f;for(l=l.split("/"),c=l.pop(),("."===c||".."===c)&&(l.push(c),c="");null!=(d=l.shift());)if(d&&"."!==d&&(".."===d?t=n.pop():(n.push(t),t=t[d]),!t))throw o(r);if(c&&"function"!=typeof t[c]&&(f=s(t,c,".js"),f||(f=s(t,c,".json")),f||(f=s(t,c,".css")),f||(f=s(t,c,".html")),f?c=f:2!==a&&"object"==typeof t[c]&&(n.push(t),t=t[c],c="")),!c)return 1!==a&&t[":mainpath:"]?e(t,n,t[":mainpath:"],r,1):e(t,n,"index",r,2);if(p=t[c],!p)throw o(r);return p.hasOwnProperty("module")?p.module.exports:(h={},p.module=u={exports:h},p.call(h,h,u,i(t,n)),u.exports)},n=function(i,n,s){var l,r=s,a=s.charAt(0),c=0;if("/"===a)r=r.slice(1),i=t["/"],n=[];else if("."!==a){if(l=r.split("/",1)[0],i=t[l],!i)throw o(s);n=[],r=r.slice(l.length+1),r||(r=i[":mainpath:"],r?c=1:(r="index",c=2))}return e(i,n,r,s,c)},(i=function(t,e){return function(i){return n(t,[].concat(e),i)}})(t,[])}({appstack:{test:{site:{client:{todo:{"MTodo.js":function(t,e){"use strict";e.exports=Backbone.Model.extend({defaults:function(){return{title:"empty todo...",order:Todos.nextOrder(),done:!1}},initialize:function(){this.get("title")||this.set({title:this.defaults().title})},toggle:function(){this.save({done:!this.get("done")})}})},"MTodoList.js":function(t,e,i){"use strict";{var n=i("./MTodo"),o=Backbone.Collection.extend({model:n,localStorage:new Backbone.LocalStorage("todos-backbone"),done:function(){return this.filter(function(t){return t.get("done")})},remaining:function(){return this.without.apply(this,this.done())},nextOrder:function(){return this.length?this.last().get("order")+1:1},comparator:function(t){return t.get("order")}});e.exports=new o}},"VAppView.js":function(t,e,i){"use strict";{var n=i("./MTodoList"),o=i("./VTodoView"),s=Backbone.View.extend({el:$("#todoapp"),statsTemplate:_.template($("#stats-template").html()),events:{"keypress #new-todo":"createOnEnter","click #clear-completed":"clearCompleted","click #toggle-all":"toggleAllComplete"},initialize:function(){this.input=this.$("#new-todo"),this.allCheckbox=this.$("#toggle-all")[0],this.listenTo(n,"add",this.addOne),this.listenTo(n,"reset",this.addAll),this.listenTo(n,"all",this.render),this.footer=this.$("footer"),this.main=$("#main"),n.fetch()},render:function(){var t=n.done().length,e=n.remaining().length;n.length?(this.main.show(),this.footer.show(),this.footer.html(this.statsTemplate({done:t,remaining:e}))):(this.main.hide(),this.footer.hide()),this.allCheckbox.checked=!e},addOne:function(t){var e=new o({model:t});this.$("#todo-list").append(e.render().el)},addAll:function(){n.each(this.addOne,this)},createOnEnter:function(t){13==t.keyCode&&this.input.val()&&(n.create({title:this.input.val()}),this.input.val(""))},clearCompleted:function(){return _.invoke(n.done(),"destroy"),!1},toggleAllComplete:function(){var t=this.allCheckbox.checked;n.each(function(e){e.save({done:t})})}});e.exports=new s}},"VTodoView.js":function(t,e){"use strict";e.exports=Backbone.View.extend({tagName:"li",template:_.template($("#item-template").html()),events:{"click .toggle":"toggleDone","dblclick .view":"edit","click a.destroy":"clear","keypress .edit":"updateOnEnter","blur .edit":"close"},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.toggleClass("done",this.model.get("done")),this.input=this.$(".edit"),this},toggleDone:function(){this.model.toggle()},edit:function(){this.$el.addClass("editing"),this.input.focus()},close:function(){var t=this.input.val();t?(this.model.save({title:t}),this.$el.removeClass("editing")):this.clear()},updateOnEnter:function(t){13==t.keyCode&&this.close()},clear:function(){this.model.destroy()}})}}}}}}})("appstack/test/site/client/todo/VAppView");