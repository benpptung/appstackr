!function t(e, i, o) {
    function n(s, l) {
        if (!i[s]) {
            if (!e[s]) {
                var a = "function" == typeof require && require;
                if (!l && a) return a(s, !0);
                if (r) return r(s, !0);
                throw Error("Cannot find module '" + s + "'");
            }
            var h = i[s] = {
                exports: {}
            };
            e[s][0].call(h.exports, function(t) {
                var i = e[s][1][t];
                return n(i ? i : t);
            }, h, h.exports, t, e, i, o);
        }
        return i[s].exports;
    }
    for (var r = "function" == typeof require && require, s = 0; s < o.length; s++) n(o[s]);
    return n;
}({
    1: [ function(t) {
        function e(t) {
            this.$el = o(t), this.$input = o(".new-todo", this.$el), this.allCheckbox = o("#toggle-all", this.$el)[0], 
            this.$footer = o("footer", this.$el), this.$main = o(".main", this.$el), this.$list = o(".todo-list", this.$el), 
            this.template = o("#stats-template").tmpl(), this._todolist = r.connect(this.$el.data("remote")), 
            this.$el.on("keypress", this.$input, u.bind(this)), this.$el.on("click", ".clear-completed", c.bind(this)), 
            this.$el.on("click", "#toggle-all", d.bind(this)), this._todolist.on("addone", a.bind(this)), 
            this._todolist.on("loaded", h.bind(this)), this._todolist.on("change", l.bind(this)), 
            this._todolist.on("error", function(t, e) {
                console.log(e);
            });
        }
        var i = t("./utils"), o = i.$, n = i.extend, r = t("./Todolist"), s = t("./TodoView");
        n(e.prototype, i.traits);
        var l = function() {
            var t = this._todolist.done().length, e = this._todolist.remaining().length;
            this._todolist.len() ? (this.$main.show(), this.$footer.html(this.template({
                done: t,
                remaining: e
            })).show()) : (this.$main.hide(), this.$footer.hide()), this.allCheckbox.checked = !e;
        }, a = function(t, e) {
            var i = s.create(e);
            this.$list.append(i.render().$el);
        }, h = function() {
            this.$list.empty(), this._todolist.each(a.bind(this).partial(null, void 0));
        }, u = function(t) {
            13 == t.keyCode && this.$input.val() && (this._todolist.create({
                title: this.$input.val()
            }), this.$input.val(""));
        }, c = function() {
            return this._todolist.done().forEach(function(t) {
                t.destroy();
            }), !1;
        }, d = function() {
            var t = this.allCheckbox.checked;
            this._todolist.each(function(e) {
                e.save({
                    done: t
                });
            });
        }, p = o.fn.todos;
        o.fn.todos = function(t) {
            return this.each(function() {
                var i = o(this), n = i.data("todos"), r = "object" == typeof t && t;
                n || i.data("todos", n = new e(this, r)), "string" == typeof t && n[t].apply(n, Array.prototype.slice.call(arguments, 1));
            });
        }, o.fn.todos.noConflict = function() {
            return o.fn.todos = p, this;
        }, o("document").ready(function() {
            var t = o('[data-provide="todos"]');
            t.todos();
        });
    }, {
        "./TodoView": 3,
        "./Todolist": 4,
        "./utils": 5
    } ],
    2: [ function(t, e, i) {
        function o(t) {
            this.title = "empty title...", this.order = t.nextOrder(), this.done = !1, this._todolist = t;
        }
        var n = t("./utils"), r = n.extend;
        i.create = function(t) {
            return new o(t);
        }, r(o.prototype, n.traits), o.prototype.destroy = function() {
            this.trigger("destroy"), this._todolist.remove(this), this.off();
        }, o.prototype.save = function(t) {
            var e = this;
            return t.hasOwnProperty("title") && (this.title = t.title), t.hasOwnProperty("done") && (this.done = t.done), 
            t.hasOwnProperty("order") && (this.order = t.order), this.trigger("change"), setTimeout(function() {
                e._todolist.trigger("change");
            }, 0), this;
        }, o.prototype.toggle = function() {
            this.save({
                done: !this.done
            });
        }, o.prototype.toJSON = function() {
            return {
                title: this.title,
                order: this.order,
                done: this.done
            };
        };
    }, {
        "./utils": 5
    } ],
    3: [ function(t, e, i) {
        function o(t) {
            this._model = t, this.$el = r('<li class="list-group-item list-group-item-info"></li>'), 
            this.$input = null, this.template = r("#item-template").tmpl(), this.$el.on("click", ".toggle", l.bind(this)), 
            this.$el.on("dblclick", ".view", a.bind(this)), this.$el.on("click", ".destroy", c.bind(this)), 
            this.$el.on("keypress", ".edit", u.bind(this)), this.$el.on("blur", ".edit", h.bind(this)), 
            this._model.on("change", this.render.bind(this)), this._model.on("destroy", this.remove.bind(this));
        }
        var n = t("./utils"), r = n.$, s = n.extend;
        i.create = function(t) {
            return new o(t);
        }, s(o.prototype, n.traits), o.prototype.render = function() {
            return this.$el.html(this.template(this._model.toJSON())), this.$el.toggleClass("done", this._model.done), 
            this.$input = r(".edit", this.$el), this;
        }, o.prototype.remove = function() {
            this.$el.remove();
        };
        var l = function() {
            this._model.toggle();
        }, a = function() {
            this.$el.addClass("editing"), this.$input.focus();
        }, h = function() {
            var t = this.$input.val();
            t ? (this._model.save({
                title: t
            }), this.$el.removeClass("editing")) : c.apply(this);
        }, u = function(t) {
            13 == t.keyCode && h.apply(this);
        }, c = function() {
            this._model.destroy();
        };
    }, {
        "./utils": 5
    } ],
    4: [ function(t, e, i) {
        function o(t) {
            var e = this;
            this._url = t, this._tIdSync = null, this._tIdRemove = null, setTimeout(function() {
                s.get(t).fail(function(t) {
                    var i = Error("Http Error");
                    i.status = t.status, i.statusText = t.statusText, i.responseText = t.responseText, 
                    e.trigger("error", i);
                }).done(function(t) {
                    return Array.isArray(t) ? (t.forEach(function(t) {
                        var i = l.create(e);
                        a.push(i.save(t));
                    }), void e.trigger("loaded")) : e.trigger("error", new TypeError("responseText is not Array. it is typeof [" + typeof t + "] " + t));
                });
            }, 0), this.on("change", h.bind(this));
        }
        var n, r = t("./utils"), s = r.$, l = (r.extend, t("./Todo")), a = [];
        i.connect = function(t) {
            return n || (n = new o(t)), n;
        }, s.extend(o.prototype, r.traits), o.prototype.create = function(t) {
            var e = l.create(this);
            a.push(e.save(t)), this.trigger("addone", e), this.trigger("change");
        }, o.prototype.each = function(t) {
            a.forEach(t);
        }, o.prototype.nextOrder = function() {
            var t = this.len();
            return ++t;
        }, o.prototype.remove = function(t) {
            var e = this;
            clearTimeout(this._tIdRemove), a = a.filter(function(e) {
                return !(e === t);
            }), this._tIdRemove = setTimeout(function() {
                e.trigger("change");
            }, 100);
        }, o.prototype.done = function() {
            return a.filter(function(t) {
                return !!t.done;
            });
        }, o.prototype.remaining = function() {
            return a.filter(function(t) {
                return !t.done;
            });
        }, o.prototype.len = function() {
            return a.length;
        };
        var h = function() {
            var t = this;
            clearTimeout(this._tIdSync), this._tIdSync = setTimeout(function() {
                s.ajax(t._url, {
                    data: JSON.stringify(a.map(function(t) {
                        return t.toJSON();
                    })),
                    cache: !1,
                    contentType: "application/json",
                    processData: !1,
                    type: "post",
                    dataType: "json",
                    global: !1
                }).fail(function(e) {
                    var i = Error("HTTP Error");
                    i.status = e.status, i.statusText = e.statusText, i.responseText = e.responseText, 
                    t.trigger("error", i);
                }).done(function(t) {
                    console && console.log(t);
                });
            }, 500);
        };
    }, {
        "./Todo": 2,
        "./utils": 5
    } ],
    5: [ function(t, e, i) {
        "function" != typeof Function.prototype.partial && (Function.prototype.partial = function() {
            var t = this, e = Array.prototype.slice.call(arguments);
            return function() {
                for (var i = 0, o = [], n = 0, r = e.length; r > n; n++) o[n] = void 0 === e[n] ? arguments[i++] : e[n];
                return t.apply(this, o);
            };
        });
        var o = window && window.jQuery;
        i.$ = o, i.extend = o.extend;
        var n = function(t, e) {
            var i = Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + t.replace(/[\r\t\n]/g, " ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');");
            return e ? i(e) : i;
        };
        o.fn.tmpl = function(t) {
            var e = this.first(), i = e.data("tmpl");
            return i || e.data("tmpl", i = n(e.html())), t ? i(t) : i;
        }, o.tmpl = n, i.traits = {
            on: function() {
                var t = o(this);
                t.on.apply(t, arguments);
            },
            off: function() {
                var t = o(this);
                t.off.apply(t, arguments);
            },
            trigger: function() {
                var t = o(this);
                t.trigger.apply(t, arguments);
            },
            triggerHandler: function() {
                var t = o(this);
                t.triggerHandler.apply(t, arguments);
            }
        }, i.uuid = function() {
            var t, e, i = "";
            for (t = 0; 32 > t; t++) e = 16 * Math.random() | 0, (8 === t || 12 === t || 16 === t || 20 === t) && (i += "-"), 
            i += (12 === t ? 4 : 16 === t ? 3 & e | 8 : e).toString(16);
            return i;
        }, i.pluralize = function(t, e) {
            return 1 === t ? e : e + "s";
        }, i.store = function(t, e) {
            if (arguments.length > 1) return localStorage.setItem(t, JSON.stringify(e));
            var i = localStorage.getItem(t);
            return i && JSON.parse(i) || [];
        };
    }, {} ]
}, {}, [ 1 ]);